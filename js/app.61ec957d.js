(function(e){function t(t){for(var i,o,s=t[0],a=t[1],u=t[2],f=0,h=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&h.push(c[o][0]),c[o]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);l&&l(t);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var a=n[s];0!==c[a]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},c={app:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=a;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"03f7":function(e,t,n){"use strict";n("f4b8")},"0770":function(e,t,n){},2934:function(e,t,n){},4914:function(e,t,n){"use strict";n("c437")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function c(e,t,n,c,r,o){var s=Object(i["A"])("router-view");return Object(i["t"])(),Object(i["d"])(s)}n("ac1f"),n("5319");var r=n("6c02"),o=n("ea7b"),s={setup:function(){var e=Object(r["d"])(),t=Object(r["c"])();Object(i["q"])((function(){var n=Object(o["c"])();Object(o["d"])(n,(function(n){n?"/login"!=t.path&&"/register"!=t.path||e.replace("/"):e.replace("/login")}))}))}},a=(n("7412"),n("6b0d")),u=n.n(a);const l=u()(s,[["render",c]]);var f=l,h={class:"home"};function d(e,t,n,c,r,o){var s=Object(i["A"])("Header"),a=Object(i["A"])("Row");return Object(i["t"])(),Object(i["e"])("div",h,[Object(i["h"])(s),Object(i["h"])(a,{title:"Action",fetchUrl:o.fetchActionMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Adventure",fetchUrl:o.fetchAdventureMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Animation",fetchUrl:o.fetchAnimationMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Comedy",fetchUrl:o.fetchComedyMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Crime",fetchUrl:o.fetchCrimeMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Drama",fetchUrl:o.fetchDramaMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Family",fetchUrl:o.fetchFamilyMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Fantasy",fetchUrl:o.fetchFantasyMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"History",fetchUrl:o.fetchHistoryMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Mystery",fetchUrl:o.fetchMysteryMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Science Fiction",fetchUrl:o.fetchScienceFictionMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"TV Movies",fetchUrl:o.fetchTVMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Thriller",fetchUrl:o.fetchThrillerMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"War",fetchUrl:o.fetchWarMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Western",fetchUrl:o.fetchWesternMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Horror",fetchUrl:o.fetchHorrorMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Romance",fetchUrl:o.fetchRomanceMovies()},null,8,["fetchUrl"]),Object(i["h"])(a,{title:"Documentaries",fetchUrl:o.fetchDocumentaries()},null,8,["fetchUrl"])])}var b=n("cf05"),v=n.n(b),g=function(e){return Object(i["w"])("data-v-4291cfc8"),e=e(),Object(i["u"])(),e},m={class:"header"},p={class:"logoContainer"},j=g((function(){return Object(i["f"])("img",{class:"logo",src:v.a},null,-1)})),O={class:"itemsContainer"},y=g((function(){return Object(i["f"])("i",{class:"fas fa-star icon"},null,-1)})),M=g((function(){return Object(i["f"])("i",{class:"fas fa-search icon"},null,-1)}));function w(e,t,n,c,r,o){var s=Object(i["A"])("router-link");return Object(i["t"])(),Object(i["e"])("div",m,[Object(i["f"])("div",p,[Object(i["h"])(s,{to:"/"},{default:Object(i["G"])((function(){return[j]})),_:1})]),Object(i["f"])("div",O,[Object(i["h"])(s,{id:"favorites",to:"/favorites"},{default:Object(i["G"])((function(){return[y]})),_:1}),Object(i["h"])(s,{id:"search",to:"/quiz"},{default:Object(i["G"])((function(){return[M]})),_:1}),Object(i["f"])("button",{class:"buttonL",onClick:t[0]||(t[0]=function(){return o.Logout&&o.Logout.apply(o,arguments)})},"Logout")])])}var U={name:"Header",props:{},methods:{Logout:function(){var e=Object(o["c"])();Object(o["g"])(e).then((function(){})).catch((function(e){console.log(e)}))}}};n("7155");const _=u()(U,[["render",w],["__scopeId","data-v-4291cfc8"]]);var k=_,A=(n("b0c0"),{class:"rowContainer"}),F={class:"rowTitle"},C={class:"rowInnerContainer"};function x(e,t,n,c,r,o){var s=Object(i["A"])("RowItem");return Object(i["t"])(),Object(i["e"])("div",A,[Object(i["f"])("h2",F,Object(i["C"])(n.title),1),Object(i["f"])("div",C,[(Object(i["t"])(!0),Object(i["e"])(i["a"],null,Object(i["z"])(r.items,(function(e){return Object(i["t"])(),Object(i["d"])(s,{key:e.id,title:e.name,id:e.id,imgUrl:e.poster_path,isFav:e.isFav},null,8,["title","id","imgUrl","isFav"])})),128))])])}var R=n("1da1"),q=(n("96cf"),n("159b"),n("caad"),n("2532"),{class:"overlay"}),S={class:"iconContainer"};function H(e,t,n,c,r,o){return Object(i["t"])(),Object(i["e"])("div",{class:"itemContainer",style:Object(i["o"])({backgroundImage:"url("+o.getImgUrl()+")"})},[Object(i["f"])("div",q,[Object(i["f"])("div",S,[r.isFavorite?(Object(i["t"])(),Object(i["e"])("i",{key:0,onClick:t[0]||(t[0]=function(t){return e.deleteDoc()}),class:"fas fa-minus-circle icon"})):(Object(i["t"])(),Object(i["e"])("i",{key:1,onClick:t[1]||(t[1]=function(e){return o.addToFav()}),class:"fas fa-plus-circle icon"}))])])],4)}n("a9e3"),n("99af");var I=n("e71f"),T=n("260b"),D=Object(T["a"])({apiKey:"AIzaSyCF-8aySQFHVdRbpAYdjQ56QSedRTS3Iqg",authDomain:"vue-auth-e3cb3.firebaseapp.com",projectId:"vue-auth-e3cb3",storageBucket:"vue-auth-e3cb3.appspot.com",messagingSenderId:"1040453350635",appId:"1:1040453350635:web:787e6874a4b4c807203aae"}),z=Object(I["e"])(D),P=Object(o["c"])(D);Object(o["e"])(P,o["a"]);var W="https://image.tmdb.org/t/p/original",E={name:"RowItem",data:function(){return{isFavorite:!1}},props:{title:String,id:Number,imgUrl:String,isFav:Boolean},mounted:function(){this.isFavorite=this.isFav},components:{},methods:{getImgUrl:function(){return W+this.imgUrl},addToFav:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(o["c"])(),i=n.currentUser.uid,t.next=4,Object(I["f"])(Object(I["c"])(z,"users/".concat(i,"/favorites/").concat(String(e.id))),{id:e.id});case 4:e.isFavorite=!0;case 5:case"end":return t.stop()}}),t)})))()},removeFromFav:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(o["c"])(),i=n.currentUser.uid,t.next=4,Object(I["b"])(Object(I["c"])(z,"users/".concat(i,"/favorites/").concat(String(e.id))),{id:e.id});case 4:e.isFavorite=!1;case 5:case"end":return t.stop()}}),t)})))()}}};n("b1e0");const V=u()(E,[["render",H],["__scopeId","data-v-c635ed9c"]]);var L=V,Q=n("bc3a"),$=n.n(Q),N="https://api.themoviedb.org/3",B={name:"Row",data:function(){return{items:[],currentUser:null}},props:{title:String,fetchUrl:String},mounted:function(){this.getUser()},components:{RowItem:L},methods:{getUser:function(){var e=this;P.onAuthStateChanged((function(t){e.currentUser=t,null!==t&&e.fetchData()}))},fetchData:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,i,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===e.currentUser){t.next=12;break}return n=[],i=e.currentUser.uid,t.next=5,Object(I["d"])(Object(I["a"])(z,"users/".concat(i,"/favorites")));case 5:c=t.sent,c.forEach((function(e){n.includes(e.data().id)||n.push(e.data().id)})),r=N+e.fetchUrl,console.log(r),$.a.get(r).then((function(t){e.items=t.data.results,console.log(t.data.results),e.items.forEach((function(e){e.isFav=n.includes(e.id)})),console.log(e.items)})).catch((function(e){console.log(e)})),t.next=13;break;case 12:console.log("no user");case 13:case"end":return t.stop()}}),t)})))()}}};n("9fc0");const G=u()(B,[["render",x],["__scopeId","data-v-79d4c7d4"]]);var J=G,K={fetchActionMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=28"),fetchAdventureMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=12"),fetchAnimationMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=16"),fetchComedyMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=35"),fetchCrimeMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=80"),fetchDramaMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=18"),fetchFamilyMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=10751"),fetchFantasyMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=14"),fetchHistoryMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=36"),fetchMysteryMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=9648"),fetchScienceFictionMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=878"),fetchTVMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=10770"),fetchThrillerMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=53"),fetchWarMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=10752"),fetchWesternMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=37"),fetchHorrorMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat("016dd6689904410ff056d8583aa0b23a","&with_genres=99")},Y=K,X={name:"Home",data:function(){return{}},components:{Header:k,Row:J},methods:{fetchActionMovies:function(){return Y.fetchActionMovies},fetchAdventureMovies:function(){return Y.fetchAdventureMovies},fetchAnimationMovies:function(){return Y.fetchAnimationMovies},fetchComedyMovies:function(){return Y.fetchComedyMovies},fetchCrimeMovies:function(){return Y.fetchCrimeMovies},fetchDramaMovies:function(){return Y.fetchDramaMovies},fetchFamilyMovies:function(){return Y.fetchFamilyMovies},fetchFantasyMovies:function(){return Y.fetchFantasyMovies},fetchHistoryMovies:function(){return Y.fetchHistoryMovies},fetchMysteryMovies:function(){return Y.fetchMysteryMovies},fetchScienceFictionMovies:function(){return Y.fetchScienceFictionMovies},fetchTVMovies:function(){return Y.fetchTVMovies},fetchThrillerMovies:function(){return Y.fetchThrillerMovies},fetchWarMovies:function(){return Y.fetchWarMovies},fetchWesternMovies:function(){return Y.fetchWesternMovies},fetchHorrorMovies:function(){return Y.fetchHorrorMovies},fetchRomanceMovies:function(){return Y.fetchRomanceMovies},fetchDocumentaries:function(){return Y.fetchDocumentaries}}};const Z=u()(X,[["render",d]]);var ee=Z,te=Object(i["f"])("div",{class:"Login"},[Object(i["f"])("h1",null,"Log in!")],-1),ne={class:"box"},ie=Object(i["f"])("label",{class:"label"},"Email",-1),ce=Object(i["f"])("br",null,null,-1),re=Object(i["f"])("br",null,null,-1),oe=Object(i["f"])("label",{class:"label"},"Password",-1),se=Object(i["f"])("br",null,null,-1),ae={id:"link"},ue=Object(i["g"])(" Need a account? "),le=Object(i["g"])("Register");function fe(e,t,n,c,r,o){var s=Object(i["A"])("router-link");return Object(i["t"])(),Object(i["e"])(i["a"],null,[te,Object(i["f"])("form",ne,[ie,ce,Object(i["H"])(Object(i["f"])("input",{type:"email",placeholder:"juanito@itesm.mx",class:"input","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.email=e})},null,512),[[i["E"],r.email]]),re,oe,se,Object(i["H"])(Object(i["f"])("input",{type:"password",placeholder:"Password",class:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e})},null,512),[[i["E"],r.password]]),Object(i["f"])("button",{onClick:t[2]||(t[2]=function(){return o.login&&o.login.apply(o,arguments)}),class:"button",type:"button"},"Log in"),Object(i["f"])("p",ae,[ue,Object(i["h"])(s,{id:"register",to:"/register"},{default:Object(i["G"])((function(){return[le]})),_:1})])])],64)}var he={name:"Login",data:function(){return{email:"",password:""}},methods:{login:function(){Object(o["f"])(P,this.email,this.password).then((function(e){var t=e.user;alert(t)})).catch((function(e){var t=e.code,n=e.message;alert(t,n)}))}}};n("d4fd");const de=u()(he,[["render",fe]]);var be=de,ve=Object(i["f"])("div",{class:"Resgister"},[Object(i["f"])("h1",null,"Resgister")],-1),ge={class:"box"},me=Object(i["f"])("label",{class:"label"},"Email",-1),pe=Object(i["f"])("br",null,null,-1),je=Object(i["f"])("br",null,null,-1),Oe=Object(i["f"])("label",{class:"label"},"Password",-1),ye=Object(i["f"])("br",null,null,-1);function Me(e,t,n,c,r,o){return Object(i["t"])(),Object(i["e"])(i["a"],null,[ve,Object(i["f"])("form",ge,[me,pe,Object(i["H"])(Object(i["f"])("input",{type:"email",placeholder:"juanito@itesm.mx",class:"input","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.email=e})},null,512),[[i["E"],r.email]]),je,Oe,ye,Object(i["H"])(Object(i["f"])("input",{type:"password",placeholder:"Password",class:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.password=e})},null,512),[[i["E"],r.password]]),Object(i["f"])("button",{onClick:t[2]||(t[2]=function(){return o.register&&o.register.apply(o,arguments)}),class:"button",type:"button"},"resgister")])],64)}var we={name:"Register",data:function(){return{email:"",password:""}},methods:{register:function(){var e=Object(o["c"])();Object(o["b"])(e,this.email,this.password).then((function(e){var t=e.user;console.log(t)})).catch((function(e){var t=e.code,n=e.message;alert(t,n)}))}}};n("4914");const Ue=u()(we,[["render",Me]]);var _e=Ue,ke=(n("fb6a"),{class:"container-app"}),Ae={class:"container-quiz"},Fe=Object(i["f"])("div",{class:"quiz-header"},[Object(i["f"])("h1",null,"Búsqueda personalizada")],-1),Ce={class:"box-question"},xe=Object(i["f"])("h2",null,"Pregunta",-1),Re={class:"box-suggestions"},qe={id:"sel",multiple:"multiple"},Se=["onClick"],He={class:"quiz-footer"},Ie={class:"box-button"};function Te(e,t,n,c,r,o){var s=Object(i["A"])("Header");return Object(i["t"])(),Object(i["e"])("div",ke,[Object(i["h"])(s),Object(i["f"])("div",Ae,[Fe,(Object(i["t"])(!0),Object(i["e"])(i["a"],null,Object(i["z"])(r.questions.slice(r.a,r.b),(function(e,t){return Object(i["t"])(),Object(i["e"])("div",{class:"quiz-main",key:t},[Object(i["f"])("div",Ce,[xe,Object(i["f"])("p",null,Object(i["C"])(e.question),1)]),Object(i["f"])("div",Re,[Object(i["f"])("select",qe,[(Object(i["t"])(!0),Object(i["e"])(i["a"],null,Object(i["z"])(e.suggestions,(function(t,n){return Object(i["t"])(),Object(i["e"])("option",{key:n,class:Object(i["n"])(r.selected?o.change(t):""),onClick:function(n){return o.selectResponse(t,e)}},Object(i["C"])(t.suggestion),11,Se)})),128))])])])})),128)),Object(i["f"])("div",He,[Object(i["f"])("div",Ie,[Object(i["f"])("button",{id:"buttonQ",class:Object(i["n"])(r.selected?o.bchange():""),onClick:t[0]||(t[0]=function(e){return o.nextQuestion()})},"Next",2)])])])])}n("a15b");var De={name:"App",data:function(){return{questions:[{question:"Que generos te gustan?",suggestions:[{suggestion:"Action",choice:!1,ident:28},{suggestion:"Adventure",choice:!1,ident:12},{suggestion:"Animation",choice:!1,ident:16},{suggestion:"Comedy",choice:!1,ident:35},{suggestion:"Crime",choice:!1,ident:80},{suggestion:"Documentary",choice:!1,ident:99},{suggestion:"Drama",choice:!1,ident:18},{suggestion:"Family",choice:!1,ident:10751},{suggestion:"Fantasy",choice:!1,ident:14},{suggestion:"History",choice:!1,ident:36},{suggestion:"Horror",choice:!1,ident:27},{suggestion:"Music",choice:!1,ident:10402},{suggestion:"Mystery",choice:!1,ident:9648},{suggestion:"Romance",choice:!1,ident:10749},{suggestion:"Science Fiction",choice:!1,ident:878},{suggestion:"TV Movie",choice:!1,ident:10770},{suggestion:"Thriller",choice:!1,ident:53},{suggestion:"War",choice:!1,ident:10752},{suggestion:"Western",choice:!1,ident:37}]},{question:"En que rango de años quieres que este la pelicula?",suggestions:[{suggestion:"50s",choice:!1,ident:1950},{suggestion:"60s",choice:!1,ident:1960},{suggestion:"70s",choice:!1,ident:1970},{suggestion:"80s",choice:!1,ident:1980},{suggestion:"90s",choice:!1,ident:1990},{suggestion:"00s",choice:!1,ident:2e3},{suggestion:"10s",choice:!1,ident:2010},{suggestion:"20s",choice:!1,ident:2020}]},{question:"Que ratings quieres que sea el minimo?",suggestions:[{suggestion:"1",choice:!1,ident:1},{suggestion:"2",choice:!1,ident:2},{suggestion:"3",choice:!1,ident:3},{suggestion:"4",choice:!1,ident:4},{suggestion:"5",choice:!1,ident:5},{suggestion:"6",choice:!1,ident:6},{suggestion:"7",choice:!1,ident:7},{suggestion:"8",choice:!1,ident:8},{suggestion:"9",choice:!1,ident:9}]},{question:"Cuántos minutos quieres que dure la película?",suggestions:[{suggestion:"< 60",choice:!1,ident:59},{suggestion:"60 - 70",choice:!1,ident:69},{suggestion:"70 - 80",choice:!1,ident:79},{suggestion:"80 - 90",choice:!1,ident:89},{suggestion:"90 - 100",choice:!1,ident:99},{suggestion:"100 - 110",choice:!1,ident:109},{suggestion:"110 - 120",choice:!1,ident:119},{suggestion:"> 120",choice:!1,ident:120}]}],x:1,current:0,array:0,a:0,b:1,selected:!1,apiArray:[[],[],[],[]]}},components:{Header:k},methods:{selectResponse:function(e){this.selected=!0,e.choice=!0,this.apiArray[this.array][this.current]=e.ident,console.log(this.apiArray[this.array][this.current]),this.current++},nextQuestion:function(){if(console.log(this.x),this.selected&&(this.a++,this.b++,this.selected=!1,this.current=0,this.array++,this.x++),this.x==this.questions.length+1){console.log(this.apiArray);var e="",t="",n="",i="";e=this.apiArray[0].length>0?this.apiArray[0].join(","):this.apiArray[0][0],t=this.apiArray[1].length>0?this.apiArray[1].join(","):this.apiArray[1][0],n=this.apiArray[2].length>0?this.apiArray[2].join(","):this.apiArray[2][0],i=this.apiArray[3].length>0?this.apiArray[3].join(","):this.apiArray[3][0],this.$router.push("/results?genres=".concat(e,"&year=").concat(t,"&rating=").concat(n,"&runtime=").concat(i))}},change:function(e){if(e.choice)return"yes"},bchange:function(){if(this.selected)return"yes"}}};n("6393");const ze=u()(De,[["render",Te]]);var Pe=ze,We={class:"home"},Ee={class:"itemsContainer"};function Ve(e,t,n,c,r,o){var s=Object(i["A"])("Header"),a=Object(i["A"])("FavMovie");return Object(i["t"])(),Object(i["e"])("div",We,[Object(i["h"])(s),Object(i["f"])("div",Ee,[(Object(i["t"])(!0),Object(i["e"])(i["a"],null,Object(i["z"])(r.items,(function(e){return Object(i["t"])(),Object(i["d"])(a,{onRemoveMovie:o.removeMovie,key:e.id,title:e.name,id:e.id,imgUrl:e.poster_path},null,8,["onRemoveMovie","title","id","imgUrl"])})),128))])])}n("4de4");var Le={class:"overlay"},Qe={class:"iconContainer"};function $e(e,t,n,c,r,o){return Object(i["t"])(),Object(i["e"])("div",{class:"itemContainer",style:Object(i["o"])({backgroundImage:"url("+o.getImgUrl()+")"})},[Object(i["f"])("div",Le,[Object(i["f"])("div",Qe,[Object(i["f"])("i",{onClick:t[0]||(t[0]=function(t){return e.$emit("remove-movie",n.id)}),class:"fas fa-minus-circle icon"})])])],4)}var Ne="https://image.tmdb.org/t/p/original",Be={name:"FavMovie",data:function(){return{isFavorite:!1}},props:{title:String,id:Number,imgUrl:String,isFav:Boolean},mounted:function(){this.isFavorite=this.isFav},methods:{getImgUrl:function(){return Ne+this.imgUrl}}};n("7d8b");const Ge=u()(Be,[["render",$e],["__scopeId","data-v-b0bc71ea"]]);var Je=Ge,Ke="https://api.themoviedb.org/3/movie/",Ye={name:"Favorites",data:function(){return{items:[],favorites:[],currentUser:null}},mounted:function(){this.getUser()},components:{Header:k,FavMovie:Je},methods:{getUser:function(){var e=this;P.onAuthStateChanged((function(t){e.currentUser=t,null!==t&&e.getFavorites()}))},getFavorites:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===e.currentUser){t.next=10;break}return n=e.currentUser.uid,t.next=4,Object(I["d"])(Object(I["a"])(z,"users/".concat(n,"/favorites")));case 4:i=t.sent,i.forEach((function(t){e.favorites.includes(t.data().id)||e.favorites.push(t.data().id)})),console.log(e.favorites),e.getMovies(),t.next=11;break;case 10:console.log("no user");case 11:case"end":return t.stop()}}),t)})))()},getMovies:function(){var e=this;this.favorites.forEach((function(t){var n=Ke+t+"?api_key=016dd6689904410ff056d8583aa0b23a";console.log(n),$.a.get(n).then((function(t){console.log(t.data),e.items.push(t.data),console.log(e.items)})).catch((function(e){console.log(e)}))}))},removeMovie:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(e),null===t.currentUser){n.next=8;break}return i=t.currentUser.uid,n.next=5,Object(I["b"])(Object(I["c"])(z,"users/".concat(i,"/favorites/").concat(String(e))),{id:e});case 5:t.items=t.items.filter((function(t){return t.id!==e})),n.next=9;break;case 8:console.log("no user");case 9:case"end":return n.stop()}}),n)})))()}}};n("89ab");const Xe=u()(Ye,[["render",Ve]]);var Ze=Xe,et=(n("a4d3"),n("e01a"),{class:"overlay"}),tt={class:"infoContainer"},nt={class:"title"},it={class:"description"},ct={class:"buttonsContainer"},rt=Object(i["f"])("i",{class:"fas fa-arrow-left"},null,-1),ot=Object(i["g"])(" otra busqueda "),st=[rt,ot],at=Object(i["f"])("i",{class:"fas fa-arrow-right"},null,-1),ut=Object(i["g"])(" Siguiente resultado "),lt=[at,ut];function ft(e,t,n,c,r,o){return Object(i["t"])(),Object(i["e"])("div",null,[Object(i["f"])("div",{class:"backgrop",style:Object(i["o"])({backgroundImage:"url("+r.imgUrl+")"})},[Object(i["f"])("div",et,[Object(i["f"])("div",tt,[Object(i["f"])("h2",nt,Object(i["C"])(r.title),1),Object(i["f"])("p",it,Object(i["C"])(r.description),1)])])],4),Object(i["f"])("div",ct,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(e){return o.otherSearch()}),class:"button"},st),Object(i["f"])("button",{onClick:t[1]||(t[1]=function(e){return o.nextMovie()}),class:"button"},lt)])])}var ht="https://image.tmdb.org/t/p/original",dt={name:"App",data:function(){return{title:"",description:"",results:[],current:0,imgUrl:"",resultsNum:0}},mounted:function(){var e=this,t=this.$route.query.genres,n=this.$route.query.year,i=this.$route.query.rating,c=this.$route.query.runtime,r="https://api.themoviedb.org/3/discover/movie?api_key=016dd6689904410ff056d8583aa0b23a&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_genres="+t+"&primary_release_year="+n+"&vote_average.gte="+i+"&with_runtime.gte="+c;console.log(r),$.a.get(r).then((function(t){console.log(t.data),console.log(t.data.results),e.results=t.data.results,e.title=t.data.results[0].title,e.description=t.data.results[0].overview,e.imgUrl=ht+t.data.results[0].poster_path}))},methods:{otherSearch:function(){this.$router.push("/quiz")},nextMovie:function(){this.current++,this.current>=this.results.length&&(this.current=0),this.title=this.results[this.current].title,this.description=this.results[this.current].overview,this.imgUrl=ht+this.results[this.current].poster_path}}};n("03f7");const bt=u()(dt,[["render",ft]]);var vt=bt,gt=[{path:"/",name:"Home",component:ee},{path:"/register",name:"Register",component:_e},{path:"/login",name:"Login",component:be},{path:"/quiz",name:"Quiz",component:Pe},{path:"/favorites",name:"Favorites",component:Ze},{path:"/results",name:"Results",component:vt}],mt=Object(r["a"])({history:Object(r["b"])("/"),routes:gt}),pt=mt;Object(i["c"])(f).use(pt).mount("#app")},6393:function(e,t,n){"use strict";n("a7f4")},7155:function(e,t,n){"use strict";n("b393")},7412:function(e,t,n){"use strict";n("cb6e")},"7d8b":function(e,t,n){"use strict";n("0770")},"89ab":function(e,t,n){"use strict";n("a9ab")},"9fc0":function(e,t,n){"use strict";n("2934")},"9ff7":function(e,t,n){},a7f4:function(e,t,n){},a8b3:function(e,t,n){},a9ab:function(e,t,n){},b1e0:function(e,t,n){"use strict";n("9ff7")},b393:function(e,t,n){},c437:function(e,t,n){},cb6e:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.9f15a06f.png"},d4fd:function(e,t,n){"use strict";n("a8b3")},f4b8:function(e,t,n){}});
//# sourceMappingURL=app.61ec957d.js.map